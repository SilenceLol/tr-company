<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>NORD WHEEL - –ó–∞–º–µ—Ä –≥—Ä—É–∑–æ–≤</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="cargo.css">
</head>
<body>
    <div class="container cargo-container">
        <header>
            <div class="logo">
                <img src="logonwnew.png" alt="NORD WHEEL" class="logo-image" onerror="this.style.display='none'">
                <span class="logo-text">NORD WHEEL</span>
            </div>
        </header>

        <div class="employee-info">
            <div class="employee-details">
                <span id="employeeName">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <button class="btn-logout" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>

        <main class="cargo-main">
            <h1>–ó–∞–º–µ—Ä –≥—Ä—É–∑–æ–≤</h1>
            
            <!-- –í–ï–†–•–ù–Ø–Ø –ß–ê–°–¢–¨: –¢–ò–ü–´ –ì–†–£–ó–û–í –í –°–¢–†–û–ß–ö–£ -->
            <div class="cargo-types-row">
                <div class="cargo-type-item" data-type="euro-pallet" onclick="selectCargoType('euro-pallet')">
                    <div class="cargo-type-icon">
                        <img src="–ø–∞–ª–ª–µ—Ç.jpg" alt="–ï–≤—Ä–æ–ø–∞–ª–ª–µ—Ç" onerror="this.innerHTML='<div class=\'emoji-icon\'>üá™üá∫</div>'">
                    </div>
                    <div class="cargo-type-name">–ï–≤—Ä–æ–ø–∞–ª–ª–µ—Ç</div>
                </div>
                
                <div class="cargo-type-item" data-type="american-pallet" onclick="selectCargoType('american-pallet')">
                    <div class="cargo-type-icon">
                        <img src="–ø–∞–ª–ª–µ—Ç.jpg" alt="–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –ø–∞–ª–ª–µ—Ç" onerror="this.innerHTML='<div class=\'emoji-icon\'>üá∫üá∏</div>'">
                    </div>
                    <div class="cargo-type-name">–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π</div>
                </div>
                
                <div class="cargo-type-item" data-type="box" onclick="selectCargoType('box')">
                    <div class="cargo-type-icon">
                        <div class="emoji-icon">üì¶</div>
                    </div>
                    <div class="cargo-type-name">–ö–æ—Ä–æ–±–∫–∞</div>
                </div>
                
                <div class="cargo-type-item" data-type="non-standard" onclick="selectCargoType('non-standard')">
                    <div class="cargo-type-icon">
                        <div class="emoji-icon">üìè</div>
                    </div>
                    <div class="cargo-type-name">–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç</div>
                </div>
            </div>
            
            <!-- –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢: –î–í–ï –ö–û–õ–û–ù–ö–ò -->
            <div class="cargo-content-two-column">
                <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –ü–ê–†–ê–ú–ï–¢–†–´ –ì–†–£–ó–ê (–°–ú–ï–©–ï–ù–ê –í–õ–ï–í–û) -->
                <div class="left-column">
                    <div class="params-section">
                       <!-- <h2>–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–∑–∞</h2> -->
                        
                        <!-- –ö–û–õ–ò–ß–ï–°–¢–í–û –ú–ï–°–¢ -->
                        <div class="param-group">
                            <div class="param-label">–ö–æ–ª-–≤–æ –º–µ—Å—Ç</div>
                            <div class="param-control">
                                <button class="param-btn minus" onclick="changeParam('quantity', -1)">-</button>
                                <input type="number" 
                                       id="quantityInput" 
                                       class="param-input" 
                                       value="1" 
                                       min="1" 
                                       max="100" 
                                       step="1"
                                       inputmode="numeric"
                                       oninput="updateQuantityFromInput()"
                                       onchange="updateQuantityFromInput()">
                                <button class="param-btn plus" onclick="changeParam('quantity', 1)">+</button>
                            </div>
                        </div>
                        
                        <!-- –†–ê–ó–ú–ï–†–´ -->
                        <div class="param-group">
                            <div class="param-label">–î–ª–∏–Ω–∞ (—Å–º)</div>
                            <div class="param-control">
                                <button class="param-btn minus" onclick="changeParam('length', -10)">-</button>
                                <input type="number" 
                                       id="lengthInput" 
                                       class="param-input" 
                                       value="120" 
                                       min="10" 
                                       max="1000" 
                                       step="1"
                                       inputmode="numeric"
                                       oninput="updateDimensionFromInput('length')"
                                       onchange="updateDimensionFromInput('length')">
                                <button class="param-btn plus" onclick="changeParam('length', 10)">+</button>
                            </div>
                        </div>
                        
                        <div class="param-group">
                            <div class="param-label">–®–∏—Ä–∏–Ω–∞ (—Å–º)</div>
                            <div class="param-control">
                                <button class="param-btn minus" onclick="changeParam('width', -10)">-</button>
                                <input type="number" 
                                       id="widthInput" 
                                       class="param-input" 
                                       value="80" 
                                       min="10" 
                                       max="1000" 
                                       step="1"
                                       inputmode="numeric"
                                       oninput="updateDimensionFromInput('width')"
                                       onchange="updateDimensionFromInput('width')">
                                <button class="param-btn plus" onclick="changeParam('width', 10)">+</button>
                            </div>
                        </div>
                        
                        <div class="param-group">
                            <div class="param-label">–í—ã—Å–æ—Ç–∞ (—Å–º)</div>
                            <div class="param-control">
                                <button class="param-btn minus" onclick="changeParam('height', -10)">-</button>
                                <input type="number" 
                                       id="heightInput" 
                                       class="param-input" 
                                       value="30" 
                                       min="10" 
                                       max="1000" 
                                       step="1"
                                       inputmode="numeric"
                                       oninput="updateDimensionFromInput('height')"
                                       onchange="updateDimensionFromInput('height')">
                                <button class="param-btn plus" onclick="changeParam('height', 10)">+</button>
                            </div>
                        </div>
                        
                        <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê –¢–ï–ö–£–©–ï–ì–û –ì–†–£–ó–ê -->
                        <div class="current-stats">
                            <div class="stat-item">
                                <span class="stat-label">–¢–µ–∫—É—â–∏–π –æ–±—ä–µ–º:</span>
                                <span class="stat-value" id="currentVolume">0.288 –º¬≥</span>
                            </div>
                            <div class="stat-item clickable-weight" onclick="editWeight()">
                                <span class="stat-label">–û–±—â–∏–π –≤–µ—Å:</span>
                                <span class="stat-value" id="currentTotalWeight">10 –∫–≥</span>
                                <div class="edit-icon">‚úèÔ∏è</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –£–ü–ê–ö–û–í–ö–ê -->
                <div class="right-column">
                    <div class="packaging-section">
                        <h2>–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è —É–ø–∞–∫–æ–≤–∫–∞</h2>
                        
                        <!-- –í–´–ë–û–† –¢–ò–ü–ê –£–ü–ê–ö–û–í–ö–ò -->
                        <div class="packaging-group">
                            <div class="param-label">–¢–∏–ø —É–ø–∞–∫–æ–≤–∫–∏</div>
                            <div class="packaging-type-selector">
                                <div class="packaging-type-item" data-packaging-type="obreshetka" onclick="selectPackagingType('obreshetka')">
                                    <div class="packaging-type-icon">‚õì</div>
                                    <div class="packaging-type-name">–û–±—Ä–µ—à–µ—Ç–∫–∞</div>
                                </div>
                                <div class="packaging-type-item" data-packaging-type="paletnyy-bort" onclick="selectPackagingType('paletnyy-bort')">
                                    <div class="packaging-type-icon">üì¶</div>
                                    <div class="packaging-type-name">–ü–∞–ª–ª–µ—Ç–Ω—ã–π –±–æ—Ä—Ç</div>
                                </div>
                            </div>
                        </div>
                        
                        <!-- –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –í–´–ë–†–ê–ù–ù–û–ô –£–ü–ê–ö–û–í–ö–ï -->
                        <div class="packaging-info">
                            <div class="current-stats">
                                <div class="stat-item">
                                    <span class="stat-label">–¢–∏–ø —É–ø–∞–∫–æ–≤–∫–∏:</span>
                                    <span class="stat-value" id="currentPackagingType">–ù–µ—Ç</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
                
            <!-- –ù–ò–ñ–ù–Ø–Ø –ß–ê–°–¢–¨: –ö–ù–û–ü–ö–ò –ò –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="bottom-section">
                <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –§–û–¢–û –ò –ö–ù–û–ü–ö–ò -->
                <div class="bottom-left">
                    <!-- –§–û–¢–û –ì–†–£–ó–ê -->
                    <div class="photo-section-new">
                        <div class="photo-container-new" onclick="openCamera()">
                            <div class="photo-placeholder-new" id="photoPlaceholder">
                                <div class="camera-icon-new">üì∑</div>
                                <div class="photo-hint-new">–ù–∞–∂–º–∏—Ç–µ –¥–ª—è —Ñ–æ—Ç–æ</div>
                            </div> 
                            <!-- –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–æ—Ç–æ -->
                            <div class="photos-container" id="photosContainer"></div>
                        </div>
                        <div class="photos-count" id="photosCount"></div>
                    </div> -->
                    
                    <!-- –ö–ù–û–ü–ö–ò –í–ï–†–¢–ò–ö–ê–õ–¨–ù–û -->
                    <div class="action-buttons-column">
                        <button class="btn-save-new" onclick="saveCargo()">
                            <span class="btn-icon">üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥—Ä—É–∑
                        </button>
                        
                        <button class="btn-send-new" onclick="sendToOperatorAndReset()">
                            <span class="btn-icon">üì§</span> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ
                        </button>
                    </div>
                </div>
                
                <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê: –û–ë–©–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
                <div class="bottom-right">
                    <!-- –ù–û–í–û–ï –û–ö–ù–û –û–ë–©–ï–ô –°–¢–ê–¢–ò–°–¢–ò–ö–ò -->
                    <div class="total-info-window">
                        <div class="total-info-header">
                            <h3>–û–±—â–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</h3>
                            <div class="total-info-refresh" onclick="updateTotalStats()" title="–û–±–Ω–æ–≤–∏—Ç—å">
                                üîÑ
                            </div>
                        </div>
                        
                        <div class="total-info-content">
                            <!-- –ö–û–õ–ò–ß–ï–°–¢–í–û –ú–ï–°–¢ -->
                            <div class="total-info-item">
                                <div class="total-info-label">
                                    <span class="total-info-icon">üì¶</span>
                                    <span class="total-info-text">–ì—Ä—É–∑—ã:</span>
                                </div>
                                <div class="total-info-value clickable" onclick="showCargoStatsPopup()" id="totalCargoCount">
                                    0
                                    <span class="total-info-arrow">‚Ä∫</span>
                                </div>
                            </div>
                            
                            <!-- –û–ë–©–ò–ô –û–ë–™–ï–ú -->
                            <div class="total-info-item">
                                <div class="total-info-label">
                                    <span class="total-info-icon">üìä</span>
                                    <span class="total-info-text">–û–±—â–∏–π –æ–±—ä–µ–º:</span>
                                </div>
                                <div class="total-info-value" id="totalVolumeValue">
                                    0 –º¬≥
                                </div>
                            </div>
                            
                            <!-- –û–ë–©–ê–Ø –ú–ê–°–°–ê -->
                            <div class="total-info-item">
                                <div class="total-info-label">
                                    <span class="total-info-icon">‚öñÔ∏è</span>
                                    <span class="total-info-text">–û–±—â–∞—è –º–∞—Å—Å–∞:</span>
                                </div>
                                <div class="total-info-value" id="totalWeightValue">
                                    0 –∫–≥
                                </div>
                            </div>
                            
                            <!-- –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–ê–Ø –£–ü–ê–ö–û–í–ö–ê -->
                            <div class="total-info-item">
                                <div class="total-info-label">
                                    <span class="total-info-icon">üì¶</span>
                                    <span class="total-info-text">–£–ø–∞–∫–æ–≤–∫–∞:</span>
                                </div>
                                <div class="total-info-value" id="totalPackagingInfo">
                                    –ù–µ—Ç
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- –û–ö–û–®–ö–û –°–¢–ê–¢–ò–°–¢–ò–ö–ò –ì–†–£–ó–û–í -->
    <div class="cargo-stats-popup-overlay" id="cargoStatsOverlay" onclick="closeCargoStatsPopup()"></div>

    <div class="cargo-stats-popup" id="cargoStatsPopup">
        <div class="cargo-stats-popup-header">
            <h3>–°–ø–∏—Å–æ–∫ –≥—Ä—É–∑–æ–≤</h3>
            <button class="cargo-stats-popup-close" onclick="closeCargoStatsPopup()">&times;</button>
        </div>
        
        <div class="cargo-stats-popup-content">
            <div class="cargo-stats-items" id="cargoStatsItems">
                <!-- –°–ø–∏—Å–æ–∫ –≥—Ä—É–∑–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
            </div>
            
            <div class="cargo-stats-totals" id="cargoStatsTotals">
                <!-- –ò—Ç–æ–≥–∏ –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
            </div>
            
            <div class="cargo-stats-actions">
                <button class="btn-clear-all" onclick="clearAllCargo()">
                    üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ
                </button>
            </div>
        </div>
    </div>

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –°–ü–ò–°–ö–ê –ì–†–£–ó–û–í (—Å—Ç–∞—Ä–æ–µ, –º–æ–∂–Ω–æ —Å–∫—Ä—ã—Ç—å) -->
    <div id="cargoListModal" class="modal" style="display: none;">
        <div class="modal-content cargo-list-modal">
            <span class="close" onclick="closeCargoListModal()">&times;</span>
            <h3>–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≥—Ä—É–∑—ã</h3>
            <div class="cargo-list-container">
                <div id="cargoListContent" class="cargo-list-content">
                    <!-- –°–ø–∏—Å–æ–∫ –≥—Ä—É–∑–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
            <div class="modal-totals">
                <div class="total-item">
                    <span class="total-label">–û–±—â–∞—è –º–∞—Å—Å–∞:</span>
                    <span class="total-value" id="modalTotalWeight">0 –∫–≥</span>
                </div>
                <div class="total-item">
                    <span class="total-label">–û–±—â–∏–π –æ–±—ä–µ–º:</span>
                    <span class="total-value" id="modalTotalVolume">0 –º¬≥</span>
                </div>
                <div class="total-item">
                    <span class="total-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</span>
                    <span class="total-value" id="modalCargoCount">0</span>
                </div>
            </div>
            <div class="cargo-list-actions">
                <button class="btn-secondary" onclick="closeCargoListModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –°–ö–†–´–¢–´–ô INPUT –î–õ–Ø –§–û–¢–û -->
    <input type="file" id="photoInput" accept="image/*" capture="environment" multiple style="display: none;">

    <!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–õ–Ø –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø –í–ï–°–ê -->
    <div id="weightEditModal" class="modal" style="display: none;">
        <div class="modal-content weight-edit-modal">
            <h3>–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–µ—Å–∞</h3>
            <div class="weight-edit-form">
                <label for="weightEditInput">–û–±—â–∏–π –≤–µ—Å –≥—Ä—É–∑–∞ (–∫–≥):</label>
                <input type="number" 
                       id="weightEditInput" 
                       class="weight-edit-input"
                       min="1" 
                       max="10000" 
                       step="1"
                       value="10">
                <div class="weight-edit-buttons">
                    <button class="btn-secondary" onclick="closeWeightEditModal()">–û—Ç–º–µ–Ω–∞</button>
                    <button class="btn-primary" onclick="saveWeight()">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
                </div>
            </div>
        </div>
    </div>
    <!-- –í —Ä–∞–∑–¥–µ–ª–µ "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥—Ä—É–∑–∞" –¥–æ–±–∞–≤–ª—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –º–µ—Å—Ç -->
<div class="param-group">
    <div class="param-label">–ö–æ–ª-–≤–æ –º–µ—Å—Ç</div>
    <div class="param-control">
        <button class="param-btn minus" onclick="changeParam('quantity', -1)">-</button>
        <input type="number" 
               id="quantityInput" 
               class="param-input" 
               value="1" 
               min="1" 
               max="100" 
               step="1"
               inputmode="numeric"
               oninput="updateQuantityFromInput()"
               onchange="updateQuantityFromInput()">
        <button class="param-btn plus" onclick="changeParam('quantity', 1)">+</button>
    </div>
    <div class="param-hint" id="currentQuantityDisplay">–¢–µ–∫—É—â–µ–µ: 1 –º–µ—Å—Ç–æ</div>
</div>

<!-- –í —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–µ —Ç–µ–∫—É—â–µ–≥–æ –≥—Ä—É–∑–∞ –¥–æ–±–∞–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç -->
<div class="current-stats">
    <div class="stat-item">
        <span class="stat-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</span>
        <span class="stat-value" id="currentQuantity">1</span>
    </div>
    <div class="stat-item">
        <span class="stat-label">–¢–µ–∫—É—â–∏–π –æ–±—ä–µ–º:</span>
        <span class="stat-value" id="currentVolume">0.288 –º¬≥</span>
    </div>
    <div class="stat-item clickable-weight" onclick="editWeight()">
        <span class="stat-label">–û–±—â–∏–π –≤–µ—Å:</span>
        <span class="stat-value" id="currentTotalWeight">10 –∫–≥</span>
        <div class="edit-icon">‚úèÔ∏è</div>
    </div>
</div>

    <script src="script.js"></script>
    <script src="cargo.js"></script>
</body>
</html>
