<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>NORD WHEEL - –ó–∞–º–µ—Ä –≥—Ä—É–∑–æ–≤</title>
    <link rel="stylesheet" href="styles.css">
    <script src="auth-simple.js"></script>
    <style>
        /* –û–ß–ï–ù–¨ –ö–û–ú–ü–ê–ö–¢–ù–´–ô –î–í–£–•–ö–û–õ–û–ù–û–ß–ù–´–ô –î–ò–ó–ê–ô–ù */
        html, body {
            height: 100%;
            overflow: hidden;
            margin: 0;
            padding: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .container {
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: white;
            padding: 0;
            margin: 0;
            border-radius: 0;
        }
        
        /* –®–ê–ü–ö–ê - –° –õ–û–ì–û–¢–ò–ü–û–ú */
        header {
            background: #2c3e50;
            padding: 10px 15px !important;
            display: flex;
            justify-content: center;
            align-items: center;
            flex-shrink: 0;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .logo-image {
            height: 28px;
            width: auto;
        }
        
        .logo-text {
            font-size: 18px;
            font-weight: bold;
            color: white;
        }
        
        /* –ò–ù–§–û–†–ú–ê–¶–ò–Ø –û –°–û–¢–†–£–î–ù–ò–ö–ï - –ö–û–ú–ü–ê–ö–¢–ù–û */
        .employee-info {
            background: linear-gradient(135deg, #2c3e50, #34495e);
            color: white;
            padding: 8px 12px !important;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
            min-height: 40px;
        }
        
        .btn-logout {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 6px 10px !important;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px !important;
        }
        
        /* –û–°–ù–û–í–ù–û–ô –ö–û–ù–¢–ï–ù–¢ - –î–í–ï –ö–û–õ–û–ù–ö–ò */
        main {
            flex: 1;
            overflow: hidden;
            min-height: 0;
            padding: 8px;
            display: flex;
            flex-direction: column;
        }
        
        h1 {
            font-size: 1.2em !important;
            margin: 0 0 10px 0 !important;
            text-align: center;
            padding: 0;
            flex-shrink: 0;
            color: #2c3e50;
        }
        
        /* –î–í–£–•–ö–û–õ–û–ù–û–ß–ù–´–ô –õ–ê–ô–ê–£–¢ */
        .two-column-layout {
            display: flex;
            flex: 1;
            min-height: 0;
            gap: 10px;
            height: calc(100vh - 140px);
        }
        
        /* –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –í–´–ë–û–† –ì–†–£–ó–ê –° –§–û–¢–û–ì–†–ê–§–ò–Ø–ú–ò */
        .left-column {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .cargo-types-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 8px;
            flex: 1;
        }
        
        .cargo-type-item {
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 10px 6px;
            cursor: pointer;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            background: #f8f9fa;
            transition: all 0.2s;
            min-height: 90px;
        }
        
        .cargo-type-item.selected {
            border-color: #3498db;
            background: #e3f2fd;
            box-shadow: 0 4px 8px rgba(52, 152, 219, 0.3);
        }
        
        .cargo-type-icon {
            width: 40px;
            height: 40px;
            margin-bottom: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            border-radius: 4px;
            background: white;
            border: 1px solid #ddd;
        }
        
        .cargo-type-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 4px;
        }
        
        .cargo-type-icon .emoji-icon {
            font-size: 24px;
        }
        
        .cargo-type-name {
            font-size: 12px;
            font-weight: 600;
            color: #2c3e50;
            line-height: 1.2;
        }
        
        /* –°–ï–ö–¶–ò–Ø –§–û–¢–û –ì–†–£–ó–ê */
        .photo-section {
            flex-shrink: 0;
            text-align: center;
            margin-top: auto;
            padding: 10px 0;
        }
        
        .photo-container {
            width: 80px;
            height: 80px;
            border: 2px dashed #3498db;
            border-radius: 8px;
            margin: 0 auto;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            background: white;
            overflow: hidden;
        }
        
        .photo-placeholder-mini {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
        }
        
        .camera-icon-mini {
            font-size: 24px;
            color: #3498db;
            margin-bottom: 5px;
        }
        
        .cargo-photo-mini {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 6px;
        }
        
        .photo-label {
            font-size: 11px;
            color: #666;
            margin-top: 5px;
            display: block;
            font-weight: 600;
        }
        
        /* –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –ù–ê–°–¢–†–û–ô–ö–ò */
        .right-column {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        /* –ö–û–ù–¢–†–û–õ–´ - –ö–û–ú–ü–ê–ö–¢–ù–û */
        .controls-compact {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .control-group {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 8px;
            padding: 10px;
        }
        
        .control-label {
            font-size: 12px;
            font-weight: 600;
            color: #495057;
            display: block;
            margin-bottom: 6px;
            text-align: center;
        }
        
        .weight-control {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 6px;
        }
        
        .weight-input-compact {
            width: 100px;
            padding: 8px;
            border: 2px solid #3498db;
            border-radius: 6px;
            font-size: 16px;
            text-align: center;
            font-weight: bold;
        }
        
        .dimension-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            margin-bottom: 6px;
        }
        
        .dimension-control:last-child {
            margin-bottom: 0;
        }
        
        .dimension-btn {
            background: #3498db;
            color: white;
            border: none;
            border-radius: 6px;
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            font-size: 14px;
        }
        
        .dimension-value {
            font-size: 16px;
            font-weight: bold;
            min-width: 50px;
            text-align: center;
        }
        
        .dimension-unit {
            font-size: 11px;
            color: #666;
            margin-left: 3px;
        }
        
        /* –ö–ù–û–ü–ö–ê –ö–û–õ–ò–ß–ï–°–¢–í–ê */
        .quantity-control {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin-top: 8px;
        }
        
        .quantity-btn {
            background: #27ae60;
            color: white;
            border: none;
            border-radius: 6px;
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
        }
        
        .quantity-value {
            font-size: 18px;
            font-weight: bold;
            min-width: 40px;
            text-align: center;
            background: white;
            border: 2px solid #ddd;
            border-radius: 6px;
            padding: 6px;
        }
        
        /* –û–°–ù–û–í–ù–´–ï –ö–ù–û–ü–ö–ò */
        .action-buttons {
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .btn-save-compact, .btn-send-compact {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            min-height: 50px;
            transition: all 0.3s;
        }
        
        .btn-save-compact:hover, .btn-send-compact:hover {
            transform: translateY(-2px);
        }
        
        .btn-save-compact {
            background: linear-gradient(135deg, #27ae60, #219653);
            color: white;
        }
        
        .btn-send-compact {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
        }
        
        /* –°–¢–ê–¢–ò–°–¢–ò–ö–ê - –ö–û–ú–ü–ê–ö–¢–ù–û */
        .stats-compact {
            background: linear-gradient(135deg, #3498db, #2980b9);
            color: white;
            padding: 12px;
            border-radius: 8px;
            margin-top: auto;
        }
        
        .stats-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 8px;
            cursor: pointer;
            padding: 8px 0;
        }
        
        .stats-title {
            font-size: 14px;
            font-weight: 600;
        }
        
        .stats-toggle {
            font-size: 11px;
            opacity: 0.9;
            background: rgba(255,255,255,0.2);
            padding: 4px 10px;
            border-radius: 12px;
        }
        
        .stats-items {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            text-align: center;
        }
        
        .stat-item-compact {
            font-size: 12px;
        }
        
        .stat-value-compact {
            font-weight: bold;
            font-size: 14px;
            display: block;
            margin-top: 4px;
        }
        
        /* –ê–î–ê–ü–¢–ò–í–ù–û–°–¢–¨ –î–õ–Ø –û–ß–ï–ù–¨ –ú–ê–õ–ï–ù–¨–ö–ò–• –≠–ö–†–ê–ù–û–í */
        @media (max-height: 600px) {
            header {
                padding: 6px 10px !important;
            }
            
            .logo-image {
                height: 22px;
            }
            
            .logo-text {
                font-size: 15px;
            }
            
            .employee-info {
                padding: 6px 10px !important;
                min-height: 36px;
            }
            
            .two-column-layout {
                height: calc(100vh - 120px);
                gap: 8px;
            }
            
            .cargo-type-item {
                padding: 8px 4px;
                min-height: 70px;
            }
            
            .cargo-type-icon {
                width: 35px;
                height: 35px;
            }
            
            .cargo-type-name {
                font-size: 11px;
            }
            
            .photo-container {
                width: 60px;
                height: 60px;
            }
            
            .control-group {
                padding: 8px;
            }
            
            .weight-input-compact {
                width: 80px;
                padding: 6px;
                font-size: 14px;
            }
            
            .btn-save-compact, .btn-send-compact {
                padding: 10px;
                font-size: 13px;
                min-height: 44px;
            }
        }
        
        @media (max-height: 500px) {
            h1 {
                font-size: 1em !important;
                margin-bottom: 6px !important;
            }
            
            .two-column-layout {
                height: calc(100vh - 110px);
                gap: 6px;
            }
            
            .cargo-type-item {
                min-height: 60px;
            }
            
            .photo-container {
                width: 50px;
                height: 50px;
            }
            
            .weight-input-compact {
                width: 70px;
                padding: 5px;
                font-size: 13px;
            }
            
            .dimension-btn, .quantity-btn {
                width: 30px;
                height: 30px;
                font-size: 13px;
            }
            
            .dimension-value {
                font-size: 14px;
                min-width: 40px;
            }
        }
        
        /* –ì–û–†–ò–ó–û–ù–¢–ê–õ–¨–ù–ê–Ø –û–†–ò–ï–ù–¢–ê–¶–ò–Ø */
        @media (orientation: landscape) and (max-height: 400px) {
            .two-column-layout {
                flex-direction: row;
            }
            
            .cargo-types-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .photo-section {
                margin-top: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="logonwnew.png" alt="NORD WHEEL" class="logo-image" onerror="this.style.display='none'">
                <span class="logo-text">NORD WHEEL</span>
            </div>
        </header>

        <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–µ -->
        <div class="employee-info">
            <div class="employee-details">
                <span id="employeeName">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
            </div>
            <button class="btn-logout" onclick="logout()">–í—ã–π—Ç–∏</button>
        </div>

        <main>
            <h1>–ó–∞–º–µ—Ä –≥—Ä—É–∑–æ–≤</h1>
            
            <div class="two-column-layout">
                <!-- –õ–ï–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –í–´–ë–û–† –ì–†–£–ó–ê -->
                <div class="left-column">
                    <div class="cargo-types-grid">
                        <!-- –ï–≤—Ä–æ–ø–∞–ª–ª–µ—Ç —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π -->
                        <div class="cargo-type-item" data-type="euro-pallet" onclick="selectCargoType('euro-pallet')">
                            <div class="cargo-type-icon">
                                <img src="–ø–∞–ª–ª–µ—Ç.jpg" alt="–ï–≤—Ä–æ–ø–∞–ª–ª–µ—Ç" onerror="this.innerHTML='<div class=\'emoji-icon\'>üá™üá∫</div>'">
                            </div>
                            <div class="cargo-type-name">–ï–≤—Ä–æ–ø–∞–ª–ª–µ—Ç</div>
                        </div>
                        
                        <!-- –ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –ø–∞–ª–ª–µ—Ç —Å —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–µ–π -->
                        <div class="cargo-type-item" data-type="american-pallet" onclick="selectCargoType('american-pallet')">
                            <div class="cargo-type-icon">
                                <img src="–ø–∞–ª–ª–µ—Ç.jpg" alt="–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π –ø–∞–ª–ª–µ—Ç" onerror="this.innerHTML='<div class=\'emoji-icon\'>üá∫üá∏</div>'">
                            </div>
                            <div class="cargo-type-name">–ê–º–µ—Ä–∏–∫–∞–Ω—Å–∫–∏–π</div>
                        </div>
                        
                        <!-- –ö–æ—Ä–æ–±–∫–∞ —Å –∏–∫–æ–Ω–∫–æ–π -->
                        <div class="cargo-type-item" data-type="box" onclick="selectCargoType('box')">
                            <div class="cargo-type-icon">
                                <div class="emoji-icon">üì¶</div>
                            </div>
                            <div class="cargo-type-name">–ö–æ—Ä–æ–±–∫–∞</div>
                        </div>
                        
                        <!-- –ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç —Å –∏–∫–æ–Ω–∫–æ–π -->
                        <div class="cargo-type-item" data-type="non-standard" onclick="selectCargoType('non-standard')">
                            <div class="cargo-type-icon">
                                <div class="emoji-icon">üìè</div>
                            </div>
                            <div class="cargo-type-name">–ù–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç</div>
                        </div>
                    </div>
                    
                    <!-- –§–û–¢–û –ì–†–£–ó–ê -->
                    <div class="photo-section">
                        <div class="photo-container" onclick="takePhoto()">
                            <div class="photo-placeholder-mini" id="photoPlaceholder">
                                <div class="camera-icon-mini">üì∑</div>
                                <div style="font-size: 10px; color: #666;">–°–¥–µ–ª–∞—Ç—å —Ñ–æ—Ç–æ</div>
                            </div>
                            <img id="cargoPhoto" class="cargo-photo-mini" style="display: none;">
                        </div>
                        <span class="photo-label">–§–æ—Ç–æ –≥—Ä—É–∑–∞</span>
                    </div>
                </div>
                
                <!-- –ü–†–ê–í–ê–Ø –ö–û–õ–û–ù–ö–ê - –ù–ê–°–¢–†–û–ô–ö–ò -->
                <div class="right-column">
                    <div class="controls-compact">
                        <!-- –í–ï–° -->
                        <div class="control-group">
                            <div class="control-label">–í–µ—Å –≥—Ä—É–∑–∞</div>
                            <div class="weight-control">
                                <input type="number" 
                                       id="weightInput" 
                                       class="weight-input-compact" 
                                       value="1" 
                                       min="1" 
                                       max="10000" 
                                       step="1"
                                       inputmode="numeric">
                                <div class="control-label">–∫–∏–ª–æ–≥—Ä–∞–º–º</div>
                            </div>
                        </div>
                        
                        <!-- –†–ê–ó–ú–ï–†–´ -->
                        <div class="control-group">
                            <div class="control-label">–†–∞–∑–º–µ—Ä—ã (—Å–∞–Ω—Ç–∏–º–µ—Ç—Ä—ã)</div>
                            <div class="dimension-control">
                                <button class="dimension-btn minus" onclick="changeDimension('length', -10)">-</button>
                                <span class="dimension-value" id="lengthValue">120</span>
                                <span class="dimension-unit">–î–ª–∏–Ω–∞</span>
                                <button class="dimension-btn plus" onclick="changeDimension('length', 10)">+</button>
                            </div>
                            <div class="dimension-control">
                                <button class="dimension-btn minus" onclick="changeDimension('width', -10)">-</button>
                                <span class="dimension-value" id="widthValue">80</span>
                                <span class="dimension-unit">–®–∏—Ä–∏–Ω–∞</span>
                                <button class="dimension-btn plus" onclick="changeDimension('width', 10)">+</button>
                            </div>
                            <div class="dimension-control">
                                <button class="dimension-btn minus" onclick="changeDimension('height', -10)">-</button>
                                <span class="dimension-value" id="heightValue">30</span>
                                <span class="dimension-unit">–í—ã—Å–æ—Ç–∞</span>
                                <button class="dimension-btn plus" onclick="changeDimension('height', 10)">+</button>
                            </div>
                        </div>
                        
                        <!-- –ö–û–õ–ò–ß–ï–°–¢–í–û -->
                        <div class="control-group">
                            <div class="control-label">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–∏–Ω–∞–∫–æ–≤—ã—Ö –≥—Ä—É–∑–æ–≤</div>
                            <div class="quantity-control">
                                <button class="quantity-btn minus" onclick="changeQuantity(-1)">-</button>
                                <span class="quantity-value" id="quantityValue">1</span>
                                <button class="quantity-btn plus" onclick="changeQuantity(1)">+</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- –û–°–ù–û–í–ù–´–ï –ö–ù–û–ü–ö–ò -->
                    <div class="action-buttons">
                        <button class="btn-save-compact" onclick="saveCargo()">
                            <span style="font-size: 16px;">üíæ</span> –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≥—Ä—É–∑
                        </button>
                        <button class="btn-send-compact" onclick="sendToOperator()">
                            <span style="font-size: 16px;">üìß</span> –û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ–ø–µ—Ä–∞—Ç–æ—Ä—É
                        </button>
                    </div>
                    
                    <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
                    <div class="stats-compact">
                        <div class="stats-header" onclick="showCargoListModal()">
                            <div class="stats-title">–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏</div>
                            <div class="stats-toggle">–ü–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ</div>
                        </div>
                        <div class="stats-items">
                            <div class="stat-item-compact">
                                –ú–µ—Å—Ç–∞
                                <span class="stat-value-compact" id="cargoCount">0</span>
                            </div>
                            <div class="stat-item-compact">
                                –ú–∞—Å—Å–∞
                                <span class="stat-value-compact" id="totalWeight">0 –∫–≥</span>
                            </div>
                            <div class="stat-item-compact">
                                –û–±—ä–µ–º
                                <span class="stat-value-compact" id="totalVolume">0 –º¬≥</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–ø–∏—Å–∫–∞ –≥—Ä—É–∑–æ–≤ –° –ì–†–£–ü–ü–ò–†–û–í–ö–û–ô -->
    <div id="cargoListModal" class="modal">
        <div class="modal-content cargo-list-modal-compact">
            <span class="close" onclick="closeCargoListModal()">&times;</span>
            <h3>–î–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ –≥—Ä—É–∑—ã</h3>
            <div class="cargo-list-container">
                <div id="cargoListContent" class="cargo-list-content">
                    <!-- –°–ø–∏—Å–æ–∫ –≥—Ä—É–∑–æ–≤ –±—É–¥–µ—Ç –∑–¥–µ—Å—å -->
                </div>
            </div>
            <div class="modal-totals-compact">
                <div class="total-item-compact">
                    <span class="total-label-compact">–û–±—â–∞—è –º–∞—Å—Å–∞:</span>
                    <span class="total-value-compact" id="modalTotalWeight">0 –∫–≥</span>
                </div>
                <div class="total-item-compact">
                    <span class="total-label-compact">–û–±—â–∏–π –æ–±—ä–µ–º:</span>
                    <span class="total-value-compact" id="modalTotalVolume">0 –º¬≥</span>
                </div>
                <div class="total-item-compact">
                    <span class="total-label-compact">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–µ—Å—Ç:</span>
                    <span class="total-value-compact" id="modalCargoCount">0</span>
                </div>
            </div>
            <div class="cargo-list-actions">
                <button class="btn-secondary" onclick="closeCargoListModal()">–ó–∞–∫—Ä—ã—Ç—å</button>
            </div>
        </div>
    </div>

    <!-- –°–∫—Ä—ã—Ç—ã–π input –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ -->
    <input type="file" id="photoInput" accept="image/*" capture="environment" style="display: none;">

    <script src="script.js"></script>
    <script>
        // –ò–ù–ò–¶–ò–ê–õ–ò–ó–ê–¶–ò–Ø –î–õ–Ø –î–í–£–•–ö–û–õ–û–ù–û–ß–ù–û–ô –í–ï–†–°–ò–ò
        document.addEventListener('DOMContentLoaded', function() {
            console.log('NORD WHEEL Cargo - Two column layout loaded');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
            window.currentCargoType = 'euro-pallet';
            window.currentWeight = 1;
            window.currentQuantity = 1;
            window.currentDimensions = {
                length: 120,
                width: 80,
                height: 30
            };
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Å–ø–∏—Å–æ–∫ –≥—Ä—É–∑–æ–≤ –∏–∑ localStorage
            window.cargoList = JSON.parse(localStorage.getItem('cargoList')) || [];
            
            // –í—ã–±–∏—Ä–∞–µ–º —Ç–∏–ø –≥—Ä—É–∑–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
            selectCargoType('euro-pallet');
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
            updateStats();
            updateEmployeeInfo();
            setupWeightInput();
            updateDimensionDisplays();
            updateQuantityDisplay();
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏
            initPhotoInput();
        });
        
        function selectCargoType(type) {
            // –£–±–∏—Ä–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —É –≤—Å–µ—Ö
            document.querySelectorAll('.cargo-type-item').forEach(item => {
                item.classList.remove('selected');
            });
            
            // –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π
            const selectedItem = document.querySelector(`[data-type="${type}"]`);
            if (selectedItem) {
                selectedItem.classList.add('selected');
            }
            
            window.currentCargoType = type;
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ä–∞–∑–º–µ—Ä—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–ª—è —Ç–∏–ø–∞
            setDefaultDimensionsForType(type);
        }
        
        function setDefaultDimensionsForType(type) {
            switch(type) {
                case 'euro-pallet':
                    window.currentDimensions = { length: 120, width: 80, height: 30 };
                    break;
                case 'american-pallet':
                    window.currentDimensions = { length: 120, width: 100, height: 30 };
                    break;
                case 'box':
                    window.currentDimensions = { length: 60, width: 40, height: 40 };
                    break;
                case 'non-standard':
                    window.currentDimensions = { length: 100, width: 100, height: 100 };
                    break;
            }
            updateDimensionDisplays();
        }
        
        function setupWeightInput() {
            const weightInput = document.getElementById('weightInput');
            if (weightInput) {
                weightInput.value = window.currentWeight;
                
                weightInput.addEventListener('input', function() {
                    this.value = this.value.replace(/[^0-9]/g, '');
                    const weight = parseInt(this.value) || 1;
                    if (weight >= 1 && weight <= 10000) {
                        window.currentWeight = weight;
                    }
                });
                
                weightInput.addEventListener('change', function() {
                    let weight = parseInt(this.value) || 1;
                    if (weight < 1) weight = 1;
                    if (weight > 10000) weight = 10000;
                    this.value = weight;
                    window.currentWeight = weight;
                });
                
                weightInput.addEventListener('focus', function() {
                    this.select();
                });
            }
        }
        
        function changeDimension(dimension, delta) {
            if (window.currentDimensions[dimension] !== undefined) {
                let newValue = window.currentDimensions[dimension] + delta;
                if (newValue >= 10) {
                    window.currentDimensions[dimension] = newValue;
                    updateDimensionDisplay(dimension);
                }
            }
        }
        
        function updateDimensionDisplay(dimension) {
            const element = document.getElementById(dimension + 'Value');
            if (element) {
                element.textContent = window.currentDimensions[dimension];
            }
        }
        
        function updateDimensionDisplays() {
            updateDimensionDisplay('length');
            updateDimensionDisplay('width');
            updateDimensionDisplay('height');
        }
        
        function changeQuantity(delta) {
            let newQuantity = window.currentQuantity + delta;
            if (newQuantity >= 1 && newQuantity <= 100) {
                window.currentQuantity = newQuantity;
                updateQuantityDisplay();
            }
        }
        
        function updateQuantityDisplay() {
            const element = document.getElementById('quantityValue');
            if (element) {
                element.textContent = window.currentQuantity;
            }
        }
        
        function initPhotoInput() {
            const photoInput = document.getElementById('photoInput');
            if (photoInput) {
                photoInput.addEventListener('change', function(e) {
                    if (e.target.files && e.target.files[0]) {
                        const reader = new FileReader();
                        reader.onload = function(event) {
                            const photo = document.getElementById('cargoPhoto');
                            const placeholder = document.getElementById('photoPlaceholder');
                            
                            if (photo && placeholder) {
                                photo.src = event.target.result;
                                photo.style.display = 'block';
                                placeholder.style.display = 'none';
                            }
                        };
                        reader.readAsDataURL(e.target.files[0]);
                    }
                });
            }
        }
        
        function takePhoto() {
            document.getElementById('photoInput').click();
        }
        
        // –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ –æ—Å–Ω–æ–≤–Ω–æ–º script.js
        window.selectCargoType = selectCargoType;
        window.changeDimension = changeDimension;
        window.changeQuantity = changeQuantity;
        window.takePhoto = takePhoto;
        window.saveCargo = window.saveCargo || function() {
            // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –∏–∑ script.js
            if (typeof window.saveCargoWithQuantity === 'function') {
                window.saveCargoWithQuantity();
            }
        };
    </script>
</body>
</html>
